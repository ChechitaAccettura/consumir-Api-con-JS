<!DOCTYPE html>
<html>
  <head>
    <title>Mi página de cursos</title>
  </head>
  <body>
    <h1>Lista de cursos</h1>
    <ul id="cursos-lista"></ul>

    <script>
      // Hacer una solicitud para obtener los datos de la API
      function obtenerCursos() {
        fetch('https://cursos-d52c4-default-rtdb.firebaseio.com/cursos.json')
          .then(response => response.json())
          .then(data => {
            // Actualizar la lista de cursos en la página
            const cursosLista = document.getElementById('cursos-lista'); //limpia el elemento para que siempre comience vacío
            cursosLista.innerHTML = '';


            for (const curso in data) {
              const li = document.createElement('li');
              li.textContent = data[curso].nombrecurso + ' - ' + data[curso].valor;

              //crea los elementos HTML
              cursosLista.appendChild(li);
            }
          });
      }

      // ejecuta la función para obtener los datos por primera vez
      obtenerCursos();

      // Actualizar los datos cada 30 segundos
      setInterval(obtenerCursos, 5000);
    </script>
  </body>
</html>
